<p><strong>FORCETOC</strong></p>

<h1 id="loading">Loading</h1>

<p>Vehicles are either loaded <a href="/SUMO_User_Documentation#Demand_Modelling" title="wikilink">from XML inputs</a> or <a href="/TraCI" title="wikilink">added at runtime via TraCI</a>. When loading from XML, not all vehicles are loaded at once. Instead, vehicles are loaded in chunks, the size of which can be configured with the option . This is done to conserve memory when performing long simulations.</p>

<p>Once vehicles are loaded they can be accessed and manipulated via TraCI (to some degree). Using the functions ‘move to’ or ‘move to XY’ they can even be forcefully inserted into the network.</p>

<h1 id="insertion-departure">Insertion (Departure)</h1>

<p>In order for a vehicle to be inserted into the road network, some necessary constraints must be fulfilled:</p>

<ul>
  <li>The vehicle (from its rear to its front position + <em>minGap</em>) must not intersect with other vehicles (including their <em>minGap</em></li>
  <li>The vehicle must be at a safe distance to any leader vehicles according to its <em>carFollowModel</em></li>
  <li>Any follower vehicles must be at a safe distance according to their <em>carFollowModel</em></li>
  <li>The vehicle must be able to brake for any upcoming non-prioritized intersections along its route</li>
  <li>The vehicle must be able to brake for any scheduled stops along its route</li>
</ul>

<p>If a vehicle cannot be inserted due to any of the above reasons it’s insertion is delayed (see below). This <em>departDelay</em> is recorded in the <a href="/Simulation/Output/TripInfo" title="wikilink">tripinfo-output</a> and can also be inspected in <a href="/SUMO-GUI" title="wikilink">SUMO-GUI</a> via the vehicle parameter dialog.</p>

<p>The precise nature of insertion in regard to position, speed and depart time depend on <a href="/Definition_of_Vehicles,_Vehicle_Types,_and_Routes#Vehicles_and_Routes" title="wikilink">many parameters</a> as well as on the current state of the road network.</p>

<h2 id="delayed-departure">Delayed Departure</h2>

<p>If there is insufficient space for inserting the vehicle at it’s designated departure time, that vehicle is put into an insertion queue and insertion is repeatedly attempted in subsequent simulation steps. If the option is used, vehicles are discarded if they could not be inserted after the specified in seconds.</p>

<p>There are two methods for inserting vehicles into the simulation:</p>

<ol>
  <li>try to insert every vehicle in every simulation step</li>
  <li>for every edge with vehicles to insert, abort trying to insert vehicles after one of the vehicles could not be inserted</li>
</ol>

<p>In an uncongested networks these methods behave similar but in a congested network with lots of vehicles which cannot be inserted variant 2) is much faster. In older version of sumo 1) was the default and one could switch to 2) using the option Since version 0.18.0, variant 2) is the default and one may switch to 1) using the option .</p>

<h2 id="investigating-insertion-delay">Investigating insertion delay</h2>

<p>Using <a href="/SUMO-GUI" title="wikilink">SUMO-GUI</a> several options exist for showing insertion delay:</p>

<ul>
  <li>Color vehicles <em>by insertion delay</em></li>
  <li>Color Streets <em>by insertion backlog</em></li>
  <li>Opening Vehicle statistics lists the number of <em>insertion-backloged vehicles</em> for the whole network.</li>
</ul>

<h2 id="global-options-that-affect-departure">Global options that affect Departure</h2>

<p>-
    randomly delays departure time for all vehicles</p>

<p>-
    limits the total amount of vehicles that may exist in the networ. Setting this may cause delayed insertion</p>

<p>-
    removes vehicles from the insertion queue after a set amount of time</p>

<p>-
    tries to insert all vehicles that are insertion-delayed on each edge. By default, insertion on an edge stops after the first failure in each time step</p>

<h1 id="miscellaneous">Miscellaneous</h1>

<ul>
  <li>For tips on how to achieve high insertion flows see <a href="/FAQ#How_do_I_get_high_flows.2Fvehicle_densities.3F" title="wikilink">the FAQ</a></li>
  <li>Vehicles can also be inserted through the use of <a href="/Simulation/Calibrator" title="wikilink">calibrators</a></li>
  <li>Vehicle rerouting may be triggered even before departure <a href="/Demand/Automatic_Routing" title="wikilink">when using device.rerouting</a></li>
  <li>The departure edge can be determined at run-time when using <a href="/Definition_of_Vehicles,_Vehicle_Types,_and_Routes#Traffic_assignement_zones_.28TAZ.29" title="wikilink">Traffic Assignment Zones (TAZ)</a></li>
</ul>
