<p>This document contains instructions for two basic ways of installing tools and libraries.</p>

<ul>
  <li>Either install them manually for the current user (no root privileges required)</li>
  <li>Or let your distribution install them system-wide (root privileges required)</li>
</ul>

<p>You can follow either way.</p>

<h3 id="manual-installation">Manual installation</h3>

<p>This document describes how to build and install (higher level) libraries SUMO depends on from scratch under Linux. There is no need for package management (RPM or such) or root access. All you need is a working GCC (version 3.3 and up should suffice) and probably some basic libraries Fox depends on.</p>

<p>It has been tested successfully on several SuSE Linux installations and with a recent <a href="http://www.cygwin.org">cygwin</a>. Everything that needs extra work on cygwin is described in the <a href="/#Cygwin" title="wikilink">cygwin section</a>.</p>

<ul>
  <li>First check whether your Linux distribution comes with a Xerces-C package and install it together with the header files (for SuSE users this is the -devel package). Version 3.1 is known to work with the current repository version. You should also check whether Proj, GDAL and Fox already come with your distribution and (if so) install them together with the header files (devel packages). Every package installed this way you will not need to build by yourself.</li>
  <li>Second download the sources of Proj, GDAL, Fox (if you want a GUI), and Xerces-C (if it does not come with your distribution).</li>
  <li>If you are building a fresh repository checkout and don’t need precise geocoordinates you can leave out Proj and GDAL.</li>
</ul>

<h4 id="the-tools">The tools</h4>

<p>We use the GNU autotools for generating configure and Makefiles for Unix-like environments. Documentation can be found in the</p>

<ul>
  <li><a href="http://www.gnu.org/software/autoconf/">GNU autoconf pages</a>,</li>
  <li><a href="http://www.gnu.org/software/autoconf/manual/">Manual for autoconf</a>,</li>
  <li><a href="http://sources.redhat.com/automake/automake.html">Manual for automake</a>,</li>
  <li><a href="http://www.gnu.org/software/libtool/manual.html">Manual for libtool</a>, and</li>
  <li>the <a href="http://sources.redhat.com/autobook/autobook/autobook_toc.html">Autobook</a>.</li>
</ul>

<h4 id="the-libraries">The Libraries</h4>

<ul>
  <li>Build and install the libraries (if you don’t have root access choose a different target for the libs and includes such as $HOME). For GDAL, Fox and Proj this is more or less straightforward:</li>
</ul>

<p><code class="highlighter-rouge">tar xzf fox-1.6.36.tar.gz</code>
<code class="highlighter-rouge">cd fox-1.6.36</code>
<code class="highlighter-rouge">./configure --prefix=$HOME &amp;&amp; make install</code>
<code class="highlighter-rouge">cd ..</code>
<code class="highlighter-rouge">tar xzf gdal-1.5.1.tar.gz</code>
<code class="highlighter-rouge">cd gdal-1.5.1</code>
<code class="highlighter-rouge">./configure --prefix=$HOME &amp;&amp; make install</code>
<code class="highlighter-rouge">cd ..</code>
<code class="highlighter-rouge">tar xzf proj-4.6.0.tar.gz</code>
<code class="highlighter-rouge">cd proj-4.6.0</code>
<code class="highlighter-rouge">./configure --prefix=$HOME &amp;&amp; make install</code></p>

<ul>
  <li>Note: The “make install” for GDAL may fail due to the Python bindings which it wants to install into some only-root-writable directory. You can safely ignore this.</li>
  <li>It is strongly recommended to use a user writable installation directory and do “make install” instead of trying to specify directories inside the directory trees of GDAL, Proj and Fox when building SUMO later on.</li>
  <li>Note: It seems like some distributions of Fox are built with disabled openGl-support. If you get unresolved references to methods such as “glColor…”, “glVertex3f…”, etc. during compilation of <a href="/SUMO-GUI" title="wikilink">SUMO-GUI</a> you have to enable openGL-support before compiling the FOX-library using “./configure –with-opengl=yes –prefix=$HOME &amp;&amp; make install”; Still, this is the default normally.</li>
</ul>

<!-- -->

<ul>
  <li>In contrast to the other libraries, it is very likely that Xerces-C also comes with your Linux distribution (at least it does with a recent SuSE). If so, please first try to install it from there and do not forget to install the developer package as well.</li>
  <li>The <a href="http://xml.apache.org/xerces-c/build-winunix.html#UNIX">Xerces build</a> is somewhat more involved:</li>
</ul>

<p><code class="highlighter-rouge">tar xzf xerces-c-current.tar.gz</code>
<code class="highlighter-rouge">export XERCESCROOT=${HOME}/xerces-c-src_3_0_1</code>
<code class="highlighter-rouge">cd $XERCESCROOT/src/xercesc</code>
<code class="highlighter-rouge">autoconf</code>
<code class="highlighter-rouge">./runConfigure -plinux -cgcc -xg++ -minmem -nsocket -tnative -rpthread -P$HOME</code>
<code class="highlighter-rouge">make</code>
<code class="highlighter-rouge">make install</code></p>

<h4 id="concluding-remarks">Concluding Remarks</h4>

<p>After installing all of the required libraries and tools in this fashion, note that, when building SUMO, the following parameters will be required for the “./configure” run:</p>

<p><code class="highlighter-rouge">./configure --with-fox-config=$HOME/bin/fox-config --with-proj-gdal=$HOME --with-xerces=$HOME</code></p>

<h3 id="distribution-specific-instructions">Distribution-specific instructions</h3>

<p>If you want to build and optionally install SUMO on Ubuntu systems, you may want to follow the instructions below.</p>

<h4 id="ubuntu-1204-tested-with-sumo-0220">Ubuntu 12.04 (tested with SUMO 0.22.0)</h4>

<p><code class="highlighter-rouge">sudo apt-get install autoconf</code>
<code class="highlighter-rouge">sudo apt-get install proj  libtool libgdal1-dev libxerces-c2-dev libfox-1.6-0 libfox-1.6-dev</code>
<code class="highlighter-rouge">cd /usr/lib; sudo ln -s libgdal1.7.0.so libgdal.so cd /usr/local/src/sumo-0.22.0</code>
<code class="highlighter-rouge">tar xzf sumo-src-0.22.0.tar.gz</code>
<code class="highlighter-rouge">sudo mv -v sumo-0.22.0 /usr/local/src</code>
<code class="highlighter-rouge">cd /usr/local/src/sumo-0.22.0</code>
<code class="highlighter-rouge">./configure --with-fox-includes=/usr/include/fox-1.6 --with-gdal-includes=/usr/include/gdal --with-proj-libraries=/usr --with-gdal-libraries=/usr --with-proj-gdal</code>
<code class="highlighter-rouge">make</code>
<code class="highlighter-rouge">cd bin</code>
<code class="highlighter-rouge">sudo mv activitygen emissionsDrivingCycle netconvert polyconvert TraCITestClient dfrouter emissionsMap netgenerate  sumo duarouter jtrrouter od2trips sumo-gui /usr/local/bin</code></p>

<h4 id="ubuntu-1404-trusty-tahr-tested-with-sumo-0220">Ubuntu 14.04 “Trusty Tahr” (tested with SUMO 0.22.0)</h4>

<p><code class="highlighter-rouge">sudo apt-get install autoconf</code>
<code class="highlighter-rouge">sudo apt-get install libproj-dev proj-bin proj-data  libtool libgdal1-dev libxerces-c3-dev libfox-1.6-0 libfox-1.6-dev</code>
<code class="highlighter-rouge">cd /usr/lib;</code></p>

<p>create this link …if it complains that it exists, even better</p>

<p><code class="highlighter-rouge">sudo ln -s libgdal1.7.0.so libgdal.so </code>
<code class="highlighter-rouge">sudo ln -s libproj.so.0.7.0 proj-lib.so</code></p>

<p><code class="highlighter-rouge">cd sumo-0.22.0</code>
<code class="highlighter-rouge">tar xzf sumo-src-0.22.0.tar.gz</code>
<code class="highlighter-rouge">open file </code>“<code class="highlighter-rouge">configure</code>”<code class="highlighter-rouge"> and  change: am__api_version='1.13' to am__api_version='1.14'</code>
<code class="highlighter-rouge">cd ..</code>
<code class="highlighter-rouge">sudo mv -v sumo-0.22.0 /usr/local/src</code>
<code class="highlighter-rouge">cd /usr/local/src/sumo-0.22.0</code>
<code class="highlighter-rouge">sudo aclocal</code>
<code class="highlighter-rouge">sudo automake --add-missing</code>
<code class="highlighter-rouge">sudo ./configure --with-fox-includes=/usr/include/fox-1.6 --with-gdal-includes=/usr/include/gdal --with-proj-libraries=/usr/lib --with-gdal-libraries=/usr --with-proj-gdal</code>
<code class="highlighter-rouge">sudo make</code>
<code class="highlighter-rouge">cd bin</code>
<code class="highlighter-rouge">sudo mv activitygen emissionsDrivingCycle netconvert polyconvert TraCITestClient dfrouter emissionsMap netgenerate  sumo duarouter jtrrouter od2trips sumo-gui /usr/local/bin</code>
<code class="highlighter-rouge">cd /usr/local/share</code>
<code class="highlighter-rouge">sudo mkdir sumo-0.22.0</code>
<code class="highlighter-rouge">sudo mv /usr/local/src/sumo-0.22.0/tools /usr/local/share/sumo-0.22.0/</code>
<code class="highlighter-rouge">sudo mv  /usr/local/src/sumo-0.22.0/data /usr/local/share/sumo-0.22.0/</code></p>

<p>if exist…</p>

<p><code class="highlighter-rouge">sudo mv  /usr/local/src/sumo-0.22.0/doc /usr/local/share/sumo-0.22.0/</code></p>

<h4 id="ubuntu-1804-tested-with-sumo-0320">Ubuntu 18.04 (tested with SUMO 0.32.0)</h4>

<p>The rquired libraries are libxerces-c-dev, libgdal-dev, libproj-dev and libfox1.6-dev.</p>

<h4 id="cygwin">Cygwin</h4>

<p>Cygwin comes with a quite old xerces-c (version 2.5). After installing it you need to make a symbolic link in /usr/lib such that the linker finds the correct library:</p>

<p><code class="highlighter-rouge">cd /usr/lib; ln -s /usr/lib/libxerces-c25.dll.a /usr/lib/libxerces-c.dll.a</code></p>

<p>Now everything (but the GUI) should build fine.</p>
