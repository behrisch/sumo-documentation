<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Demand Further Ways to import VISUM Demand Definitions | Eclipse SUMO - Documentation</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Demand Further Ways to import VISUM Demand Definitions" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="/sumo-documentation/Demand/Further_Ways_to_import_VISUM_Demand_Definitions/" />
<meta property="og:url" content="/sumo-documentation/Demand/Further_Ways_to_import_VISUM_Demand_Definitions/" />
<meta property="og:site_name" content="Eclipse SUMO - Documentation" />
<script type="application/ld+json">
{"description":"Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@type":"WebPage","url":"/sumo-documentation/Demand/Further_Ways_to_import_VISUM_Demand_Definitions/","headline":"Demand Further Ways to import VISUM Demand Definitions","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/sumo-documentation/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/sumo-documentation/feed.xml" title="Eclipse SUMO - Documentation" /></head>
<body><header class="site-header">

    <div class="wrapper"><a class="site-title" rel="author" href="/sumo-documentation/">Eclipse SUMO - Documentation</a>
      <img src="https://sumo.dlr.de/favicon.ico" style="width:80px;"><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
  
        </nav></div>
  </header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Demand Further Ways to import VISUM Demand Definitions</h1>
    <p class="post-meta">
      
    <div align="right"><a href="https://github.com/angelobanse/sumo-documentation/edit/master/docs/Demand/Further_Ways_to_import_VISUM_Demand_Definitions.md">Edit on GitHub</a></div></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>VISUM stores its demand in <a href="/Demand/Importing_O/D_Matrices" title="wikilink">OD-matrices which can be imported</a> using <a href="/OD2TRIPS" title="wikilink">OD2TRIPS</a>. Though, it may be interesting for using the computed assignments without performing a <a href="/Demand/Dynamic_User_Assignment" title="wikilink">dynamic user assignment</a>. The SUMO package contains some scripts which allow to process other VISUM data and are discussed in the following.</p>

<h1 id="importing-turn-percentages">Importing Turn Percentages</h1>

<p>VISUM can save the defined/computed turning percentages at junctions. The format differs from <a href="/Demand/Routing_by_Turn_Probabilities" title="wikilink">turning probabilities format</a> used by <a href="/JTRROUTER" title="wikilink">JTRROUTER</a>. The script <strong><em>visum_convertTurnPercentages.py</em></strong> converts VISUM turning percentages into <a href="/JTRROUTER" title="wikilink">JTRROUTERs</a> <a href="/Demand/Routing_by_Turn_Probabilities" title="wikilink">turning definitions</a>. The tool requires the SUMO-network converted from VISUM, the turning probabilities from VISUM, and the name of the file into which the converted turning probabilities shall be written:</p>

<p><code class="highlighter-rouge">visum_convertTurnPercentages.py </code><SUMO_NET>` `<VISUM_TURNINGS>` `</VISUM_TURNINGS></SUMO_NET></p>

<OUTPUT>
The script is located in /tools/import/visum. It is written in Python.

Usability
---------

It seems as using turning ratios for large areas would not make any sense. The resulting routes are very unrealistic as they contain many loops.

See Also
--------

-   [JTRROUTER](/JTRROUTER "wikilink") - page on the turning ratios router
-   [Demand/Routing by Turn Probabilities](/Demand/Routing_by_Turn_Probabilities "wikilink") - further documentation on this tool's usage

Importing Routes
================

VISUM can save the routes it computes during the assignment. The format differs from [Definition of Vehicles, Vehicle Types, and Routes](/Definition_of_Vehicles,_Vehicle_Types,_and_Routes "wikilink") used by [SUMO](/SUMO "wikilink") and [SUMO-GUI](/SUMO-GUI "wikilink"). The script ***visum_convertRoutes.py*** converts VISUM routes into [SUMO](/SUMO "wikilink") routes. The tool requires the SUMO-network converted from VISUM, the routes exported from VISUM, and the name of the file into which the converted turning probabilities shall be written. Additional options are shown in the following table:

<table>
<thead>
<tr class="header">
<th><p>Option</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
<p><br />
</p></td>
<td><p>Read the SUMO-network to map the routes onto from <FILE>; mandatory&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
<tr class="even">
<td>
<p><br />
</p></td>
<td><p>Read VISUM-routes to map from <FILE>; mandatory&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
<tr class="odd">
<td>
<p><br />
</p></td>
<td><p>Write generated routes to <FILE>; mandatory&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
<tr class="even">
<td>
<p><br />
</p></td>
<td><p>Define the begin of the interval the vehicles are emitted within [s]; default: 0s</p></td>
</tr>
<tr class="odd">
<td>
<p><br />
</p></td>
<td><p>Define the end of the interval the vehicles are emitted within [s]; default: 3600s</p></td>
</tr>
<tr class="even">
<td>
<p><br />
</p></td>
<td><p>Add <STRING> as prefix to the IDs of generated vehicles; optional, default: no prefix&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
<tr class="odd">
<td>
<p><br />
</p></td>
<td><p>Set the vehicle type to <STRING>; optional, default: no type&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
<tr class="even">
<td>
<p><br />
</p></td>
<td><p>Vehicle departure times will be spread across the interval uniformly; optional, default: false</p></td>
</tr>
<tr class="odd">
<td>
<p><br />
</p></td>
<td><p>Applies a daily time line. The time line must be given as a list of 24 floats, each describing the percentage of emissions from the original number for each hour of a day; optional, default: no timeline</p></td>
</tr>
<tr class="even">
</tr>
&lt;/tbody&gt;
&lt;/table&gt;

Example call:

`visum_convertRoutes.py -n `<SUMO_NET>` -r `<VISUM_ROUTES>` -o `

<OUTPUT>
--uniform The script is located in /tools/import/visum. It is written in Python.

Usability
---------

The routes can be directly used within [SUMO](/SUMO "wikilink") / [SUMO-GUI](/SUMO-GUI "wikilink").

See Also
--------

-   [Examples of daily time lines](/Demand/Importing_O/D_Matrices#Daily_Time_Lines "wikilink")
</OUTPUT></VISUM_ROUTES></SUMO_NET></STRING></p></td></tr></STRING></p></td></tr></FILE></p></td></tr></FILE></p></td></tr></FILE></p></td></tr></tbody></table></OUTPUT>

  </div><a class="u-url" href="/sumo-documentation/Demand/Further_Ways_to_import_VISUM_Demand_Definitions/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/sumo-documentation/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Eclipse SUMO - Documentation</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Eclipse SUMO - Documentation</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.twitter.com/eclipseSUMO"><svg class="svg-icon"><use xlink:href="/sumo-documentation/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">eclipseSUMO</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
