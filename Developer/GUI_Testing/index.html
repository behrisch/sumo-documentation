<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Developer GUI Testing | Eclipse SUMO - Documentation</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Developer GUI Testing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="/sumo-documentation/Developer/GUI_Testing/" />
<meta property="og:url" content="/sumo-documentation/Developer/GUI_Testing/" />
<meta property="og:site_name" content="Eclipse SUMO - Documentation" />
<script type="application/ld+json">
{"description":"Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@type":"WebPage","url":"/sumo-documentation/Developer/GUI_Testing/","headline":"Developer GUI Testing","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/sumo-documentation/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/sumo-documentation/feed.xml" title="Eclipse SUMO - Documentation" /></head>
<body><header class="site-header">

    <div class="wrapper"><a class="site-title" rel="author" href="/sumo-documentation/">Eclipse SUMO - Documentation</a>
      <img src="https://sumo.dlr.de/favicon.ico" style="width:80px;"><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
  
        </nav></div>
  </header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Developer GUI Testing</h1>
    <p class="post-meta">
      
    <div align="right"><a href="https://github.com/angelobanse/sumo-documentation/edit/master/en/Developer/GUI_Testing.md">Edit on GitHub</a></div></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>We are using <a href="http://sikulix.com/">SikuliX</a></p>

<h2 id="setup">Setup</h2>

<ul>
  <li>Java (at least 1.7) should be installed</li>
  <li>Linux only: Install dependencies (openSUSE 42.1: <code class="highlighter-rouge">zypper in libopencv2_4 libtesseract3 wmctrl xdotool</code>)
    <ul>
      <li>openSUSE 42.2 does not have libopencv2_4, you can try this libopencv2 from <a href="https://build.opensuse.org/package/binaries/home:tokoyami/opencv2-qt5?repository=openSUSE_Leap_42.2">this repo</a> but you will need manual symlinks in /usr/lib64</li>
    </ul>
  </li>
</ul>

<p><code class="highlighter-rouge">cd /usr/lib64/</code>
<code class="highlighter-rouge">ln -s libopencv_core.so.5.4 libopencv_core.so.2.4</code>
<code class="highlighter-rouge">ln -s libopencv_highgui.so.5.4 libopencv_highgui.so.2.4</code>
<code class="highlighter-rouge">ln -s libopencv_imgproc.so.5.4 libopencv_imgproc.so.2.4</code></p>

<ul>
  <li>Download from <a href="https://launchpad.net/sikuli/+download">here</a> and move the jar to a separate dir (e.g. $HOME/sikulix).</li>
  <li>run setup <code class="highlighter-rouge">java -jar sikulix/sikulixsetup-1.1.0.jar</code>
    <ul>
      <li>enable the first option and python scripting</li>
    </ul>
  </li>
  <li>Define environment variable, e.g. <code class="highlighter-rouge">export RUN_SIKULIX=$HOME/sikulix/runsikulix</code>
    <ul>
      <li>on Windows <code class="highlighter-rouge">set RUN_SIKULIX=C:\sikulix\runsikulix.cmd</code></li>
    </ul>
  </li>
  <li>see also <a href="http://sikulix.com/quickstart/">http://sikulix.com/quickstart/</a></li>
</ul>

<h2 id="startup">Startup</h2>

<ul>
  <li>run $SUMO_HOME/tests/runNeteditTests.sh (Linux) or %SUMO_HOME%\tests\runNeteditTests.bat (Windows)
    <ul>
      <li>when getting an error about “server not running” double check whether the environment variable is set and try to run the script <code class="highlighter-rouge">RUN_SIKULIX</code> points to manually, looking for error messages.</li>
    </ul>
  </li>
</ul>

<h2 id="setting-up-a-test">Setting up a test</h2>

<p>All tests start are written in Python using the Jython scripting interface of Sikulix. All of them start with the same header:</p>

<p><code class="highlighter-rouge">import os</code>
<code class="highlighter-rouge">import sys</code>
<code class="highlighter-rouge">testRoot = os.path.join(os.environ.get('SUMO_HOME', '.'), 'tests')</code>
<code class="highlighter-rouge">neteditTestRoot = os.path.join(os.environ.get('TEXTTEST_HOME', testRoot), 'netedit')</code>
<code class="highlighter-rouge">sys.path.append(neteditTestRoot)</code>
<code class="highlighter-rouge">import neteditTestFunctions as netedit</code>
<code class="highlighter-rouge"># Open netedit</code>
<code class="highlighter-rouge">neteditProcess, match = netedit.setupAndStart(neteditTestRoot, True)</code></p>

<p>This code will find the directory with the netedit tests using the TEXTTEST_HOME variable and SUMO_HOME as a fallback. This enables the start of the tests even outside of Texttest using the runsikulix call directly with the test.sikuli dir. You should not use relative directories here because this makes copying and moving tests harder.</p>

  </div><a class="u-url" href="/sumo-documentation/Developer/GUI_Testing/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/sumo-documentation/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Eclipse SUMO - Documentation</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Eclipse SUMO - Documentation</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.twitter.com/eclipseSUMO"><svg class="svg-icon"><use xlink:href="/sumo-documentation/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">eclipseSUMO</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
