<p>There are different approaches to give new routes to a vehicle while the simulation is running. This page will summarize them. The categorization is twofold: internal vs. external and direct route setting vs. (Dijkstra) shortest path finding.</p>

<h2 id="internal">Internal</h2>

<p>SUMO supports a rerouter which is located on an edge for three different application scenarios:</p>

<ul>
  <li>forbidding an edge (all vehicles passing the rerouter are no longer allowed to drive on the specified edge and will look for a new shortest route to their destination)</li>
  <li>giving a distribution of new destinations (the vehicle will choose the shortest route to the destination drawn from the distribution)</li>
  <li>giving a distribution of new routes (the vehicle will draw a route from the distribution)</li>
</ul>

<p><em>Edge weights?</em> Furthermore internal devices such as the C2C-device support rerouting even with different edge weights for each vehicle.</p>

<h2 id="external">External</h2>

<p>The TraCI interface supports setting an explicit route as well as shortest path route finding (also with vehicle specific weights).</p>

<h2 id="route-setting">Route setting</h2>

<p>This is of course the most flexible approach. The drawback is that either the set of routes to choose from or the net has to be known to the one setting the route. Especially external applications would need to parse the SUMO net (or an equivalent) not only for the node/edge/connection information but also for forbidden vehicle types etc. If this information can change over time the external app has to be synchronized with the simulation, which is highly non-trivial.</p>

<h2 id="shortest-paths">Shortest paths</h2>

<p>SUMO has a flexible Dijkstra shortest path finder inside which can be used to find new routes. The edge weight used to find the shortest path is usually the quotient of edge length and maximum speed (minimum travel time) or the average travel time (<em>averaged over …?</em>) but may be altered individually for each vehicle (<em>globally as well?</em>). The implementation is considerably fast to allow even for multiple reroutings of each vehicle during the simulation without measurable performance losses. The drawback is that not every route choice can be modeled via an appropriate edge cost, think for instance of minimizing left turns (<em>If we could assign weights to internal edges, we could model this!?</em>) Furthermore the shortest path algorithm does not allow for negative edge weights (<em>or is it flexible enough to fail on negative cycles only?</em>)</p>

<h2 id="actions-and-actors">Actions and Actors</h2>

<p>Route computation requires following actions:</p>

<ul>
  <li>determination of edge weights (by measuring/extrapolation)</li>
  <li>storing of edge weights</li>
  <li>triggering a route computation</li>
  <li>route computation (algorithms for using stored values, weighting, and routes computation)</li>
  <li>route acceptance</li>
</ul>

<p><strong>Table 1: possible actors</strong></p>

<p>| Action                         | Actor(s)                                                           |
|——————————–|——————————————————————–|
| determination of edge weights  | -   vehicle (own travel time, received travel times, …)</p>
<ul>
  <li>edge (mean travel time or other values, …)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>control center (reported jams, obtained travel times, …)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>storing of edge weights</td>
          <td>-   vehicle (own knowledge, as within obtaining knowledge via V2V)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>edge (mean values)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>center (same as edge?)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>triggering a route computation</td>
          <td>-   vehicle itself (after obtaining a weight for own route)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>center (via radio broadcast)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>route computation</td>
          <td>-   vehicle</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>external application</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>route acceptance</td>
          <td>vehicle</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

