<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Purgatory ReroutingApproaches | Eclipse SUMO - Documentation</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Purgatory ReroutingApproaches" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="/sumo-documentation/Purgatory/ReroutingApproaches/" />
<meta property="og:url" content="/sumo-documentation/Purgatory/ReroutingApproaches/" />
<meta property="og:site_name" content="Eclipse SUMO - Documentation" />
<script type="application/ld+json">
{"description":"Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@type":"WebPage","url":"/sumo-documentation/Purgatory/ReroutingApproaches/","headline":"Purgatory ReroutingApproaches","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/sumo-documentation/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/sumo-documentation/feed.xml" title="Eclipse SUMO - Documentation" /></head>
<body><header class="site-header">

    <div class="wrapper"><a class="site-title" rel="author" href="/sumo-documentation/">Eclipse SUMO - Documentation</a>
      <img src="https://sumo.dlr.de/favicon.ico" style="width:80px;"><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
  
        </nav></div>
  </header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Purgatory ReroutingApproaches</h1>
    <p class="post-meta">
      
    <div align="right"><a href="https://github.com/angelobanse/sumo-documentation/edit/master/en/Purgatory/ReroutingApproaches.md">Edit on GitHub</a></div></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>There are different approaches to give new routes to a vehicle while the simulation is running. This page will summarize them. The categorization is twofold: internal vs. external and direct route setting vs. (Dijkstra) shortest path finding.</p>

<h2 id="internal">Internal</h2>

<p>SUMO supports a rerouter which is located on an edge for three different application scenarios:</p>

<ul>
  <li>forbidding an edge (all vehicles passing the rerouter are no longer allowed to drive on the specified edge and will look for a new shortest route to their destination)</li>
  <li>giving a distribution of new destinations (the vehicle will choose the shortest route to the destination drawn from the distribution)</li>
  <li>giving a distribution of new routes (the vehicle will draw a route from the distribution)</li>
</ul>

<p><em>Edge weights?</em> Furthermore internal devices such as the C2C-device support rerouting even with different edge weights for each vehicle.</p>

<h2 id="external">External</h2>

<p>The TraCI interface supports setting an explicit route as well as shortest path route finding (also with vehicle specific weights).</p>

<h2 id="route-setting">Route setting</h2>

<p>This is of course the most flexible approach. The drawback is that either the set of routes to choose from or the net has to be known to the one setting the route. Especially external applications would need to parse the SUMO net (or an equivalent) not only for the node/edge/connection information but also for forbidden vehicle types etc. If this information can change over time the external app has to be synchronized with the simulation, which is highly non-trivial.</p>

<h2 id="shortest-paths">Shortest paths</h2>

<p>SUMO has a flexible Dijkstra shortest path finder inside which can be used to find new routes. The edge weight used to find the shortest path is usually the quotient of edge length and maximum speed (minimum travel time) or the average travel time (<em>averaged over …?</em>) but may be altered individually for each vehicle (<em>globally as well?</em>). The implementation is considerably fast to allow even for multiple reroutings of each vehicle during the simulation without measurable performance losses. The drawback is that not every route choice can be modeled via an appropriate edge cost, think for instance of minimizing left turns (<em>If we could assign weights to internal edges, we could model this!?</em>) Furthermore the shortest path algorithm does not allow for negative edge weights (<em>or is it flexible enough to fail on negative cycles only?</em>)</p>

<h2 id="actions-and-actors">Actions and Actors</h2>

<p>Route computation requires following actions:</p>

<ul>
  <li>determination of edge weights (by measuring/extrapolation)</li>
  <li>storing of edge weights</li>
  <li>triggering a route computation</li>
  <li>route computation (algorithms for using stored values, weighting, and routes computation)</li>
  <li>route acceptance</li>
</ul>

<p><strong>Table 1: possible actors</strong></p>

<p>| Action                         | Actor(s)                                                           |
|——————————–|——————————————————————–|
| determination of edge weights  | -   vehicle (own travel time, received travel times, …)</p>
<ul>
  <li>edge (mean travel time or other values, …)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>control center (reported jams, obtained travel times, …)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>storing of edge weights</td>
          <td>-   vehicle (own knowledge, as within obtaining knowledge via V2V)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>edge (mean values)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>center (same as edge?)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>triggering a route computation</td>
          <td>-   vehicle itself (after obtaining a weight for own route)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>center (via radio broadcast)</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>route computation</td>
          <td>-   vehicle</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>external application</td>
          <td> </td>
          <td> </td>
        </tr>
        <tr>
          <td> </td>
          <td>route acceptance</td>
          <td>vehicle</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>


  </div><a class="u-url" href="/sumo-documentation/Purgatory/ReroutingApproaches/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/sumo-documentation/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Eclipse SUMO - Documentation</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Eclipse SUMO - Documentation</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.twitter.com/eclipseSUMO"><svg class="svg-icon"><use xlink:href="/sumo-documentation/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">eclipseSUMO</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here 12345. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
