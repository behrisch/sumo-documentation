<h1 id="traffic-lights">Traffic Lights</h1>

<h2 id="command-0x41-get-traffic-light-status">Command 0x41: Get Traffic Light Status</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">integer</td>
      <td style="text-align: center">integer</td>
      <td style="text-align: center">integer</td>
    </tr>
    <tr>
      <td style="text-align: center">TrafficLightId</td>
      <td style="text-align: center">IntervalStart [ms]</td>
      <td style="text-align: center">IntervalEnd [ms]</td>
    </tr>
  </tbody>
</table>

<p>The traffic lights of the junction specified by <em>TrafficLight-Id</em> are asked for their state transitions that will occur within a given time interval defined by <em>IntervalStart</em> and <em>IntervallEnd</em>. All traffic light switches within this interval are then reported as a series of <em>Traffic Light Switch</em> responses (s. below).</p>

<h3 id="response-0x91-traffic-light-switch">Response 0x91: Traffic Light Switch</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
      <th style="text-align: center"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">integer</td>
      <td style="text-align: center">string</td>
      <td style="text-align: center">float</td>
      <td style="text-align: center">string</td>
      <td style="text-align: center">ubyte</td>
      <td style="text-align: center">integer</td>
    </tr>
    <tr>
      <td style="text-align: center">SwitchTime [ms]</td>
      <td style="text-align: center">PrecedingEdge</td>
      <td style="text-align: center">PositionOnPrecedingEdge</td>
      <td style="text-align: center">SucceedingEdge</td>
      <td style="text-align: center">NewPhase</td>
      <td style="text-align: center">YellowTime [ms]</td>
    </tr>
  </tbody>
</table>

<p>This response is sent for each switch in a traffic lights phase that occurs within the time interval given by the command <em>Get Traffic Light Status</em>. The <em>NewPhase</em> that the traffic light will switch to is reported along with the time of the switch (<em>SwitchTime</em>) and the duration of the yellow phase that precedes the phase switch (<em>YellowTime</em>).
A switch is reported for each pair of <em>PrecedingEdge</em> and <em>SucceedingEdge</em> that is affected by it. Additionally, the traffic light’s <em>PositionOnPrecedingEdge</em> is given.</p>
