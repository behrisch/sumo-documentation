<h2 id="usage">Usage</h2>

<p>See <a href="/DfRouterUsage" title="wikilink">DfRouterUsage</a> in the <a href="/SUMO_User_Documentation" title="wikilink">User Documentation</a>.</p>

<h2 id="comments">Comments</h2>

<h3 id="why-the-route-distribution-may-be-different-from-what-is-expected">Why the route distribution may be different from what is expected</h3>

<ul>
  <li>The time described by the detectors values may end before what shall be generated; if, for example, routes for a whole day shall be generated (b=0, e=86400, the defaults) but the detectors only contain information for one minute, the route distribution is still estimated for the whole day while detector values are missing. In this case, the distribution may differ from what is expected (being the one during the described time).</li>
</ul>

<h3 id="why-variable-speed-signs-show-velocities-of-200ms">Why variable speed signs show velocities of 200m/s</h3>

<ul>
  <li>If the DFROUTER finds a detector entry with v=0, it sets the allowed velocity in the according vss to 200km/h. The idea is not to set a limit when no valid value exists.</li>
</ul>

<h2 id="behaviour-to-define">Behaviour to define</h2>

<ul>
  <li>What shall be done if a detector value is missing?</li>
</ul>

<h2 id="tests">Tests</h2>

<h3 id="tri_completely_defined">tri_completely_defined</h3>

<p>Simple network:</p>

<p><a href="http://sumo.sourceforge.net/wiki_images/dfrouter_tricomplete_net.gif">http://sumo.sourceforge.net/wiki_images/dfrouter_tricomplete_net.gif</a></p>

<p>All detector values are supplied correctly</p>

<ul>
  <li>
    <ul>
      <li>tri_flows1_1step_straight: the straight direction has 10 vehicles running</li>
      <li>tri_flows1_1step_left: the left direction has 10 vehicles running</li>
      <li>tri_flows1_1step_right: the right direction has 10 vehicles running</li>
      <li>tri_flows1_1step_equal: all directions have 10 vehicles running</li>
      <li>tri_flows1_1step_more_straight: the straight direction has 20, left and right have 10 vehicles running</li>
      <li>tri_flows1_1step_more_left: the left direction has 20, straight and right have 10 vehicles running</li>
      <li>tri_flows1_1step_more_right: the right direction has 20, straight and left have 10 vehicles running</li>
    </ul>
  </li>
</ul>

<p>Flows from tri_flows1_1step_more_left (the darker the more):</p>

<p><a href="http://sumo.sourceforge.net/wiki_images/dfrouter_tricomplete_flow_more_left.gif">http://sumo.sourceforge.net/wiki_images/dfrouter_tricomplete_flow_more_left.gif</a></p>

<h3 id="tri_no_first">tri_no_first</h3>

<p>The first detectors of the left/right arms are missing</p>

<p>This is meant to verify whether a detector may lie on a later edge.</p>

<h3 id="tri_last_only">tri_last_only</h3>

<p>Only the last detectors of the left/right arms exist.</p>

<p>This is meant to verify whether a detector may lie on a later edge.</p>

<h3 id="tri_missing_first_left_values">tri_missing_first_left_values</h3>

<p>All detectors exist (as in tri_completely_defined) but the first detector to left has no value.</p>

<p>The tests show that:</p>

<ul>
  <li>it is reported that this detector has no value as soon as the option “–report-empty-detectors” is set</li>
  <li>the routes change as missing values for the first detector are interpreted as flow=0</li>
</ul>

<h3 id="tri_missing_first_left_noempty">tri_missing_first_left_noempty</h3>

<p>Same as (as in tri_missing_first_left_values) but the option “–remove-empty-detectors” is used.</p>

<p>The tests show that:</p>

<ul>
  <li>it is reported that the detector that has no values is removed from the list of known detectors</li>
  <li>the original routes are restored (thos from tri_completely_defined) because the subsequent detectors on the left arm have correct flows</li>
</ul>
