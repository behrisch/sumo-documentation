---
title: Simulation Meso
permalink: /Simulation/Meso/
---

From 30.000 feet
================

Starting with version 0.26.0 the mesoscopic model is available in the [SUMO](/SUMO "wikilink") distribution ([MESO](/MESO "wikilink") has been developed alongside SUMO since 2002 but was not publicly available). [MESO](/MESO "wikilink") refers to a mesoscopic simulation model which uses the same input data as the main [SUMO](/SUMO "wikilink") model. It computes vehicle movements with queues and runs up to 100 times faster than the microscopic model of [SUMO](/SUMO "wikilink"). Additionally, due to using a coarser model for intersections and lane-changing it is more tolerant of network modelling errors than [SUMO](/SUMO "wikilink").


**Purpose:** Simulates a defined scenario

**System:** portable (Linux/Windows is tested); runs on command line

**Input (mandatory):**
A) a road network as generated via [NETCONVERT](/NETCONVERT "wikilink") or [NETGENERATE](/NETGENERATE "wikilink"), see [Building Networks](/SUMO_User_Documentation#Network_Building "wikilink")

B) a set of routes (as generated by [DUAROUTER](/DUAROUTER "wikilink"), [JTRROUTER](/JTRROUTER "wikilink"), [DFROUTER](/DFROUTER "wikilink"), or [ACTIVITYGEN](/ACTIVITYGEN "wikilink"), see also [Definition of Vehicles, Vehicle Types, and Routes](/Definition_of_Vehicles,_Vehicle_Types,_and_Routes "wikilink"))

**Input (optional):** Additional definitions of traffic lights, variable speed signs, output detectors etc.

**Output:** SUMO allows to generate a wide set of outputs; visualization is done using [SUMO-GUI](/SUMO-GUI "wikilink")

**Programming Language:** C++

Usage Description
=================

The mesoscopic model uses the same input files and generates (almost) the same outputs as [SUMO](/SUMO "wikilink"). To use [MESO](/MESO "wikilink") the option must be set. Additional options are described at [SUMO\#Mesoscopic](/SUMO#Mesoscopic "wikilink")

Model Description
=================

The simulation model is based on the work of [Eissfeldt, Vehicle-based modelling of traffic](http://kups.ub.uni-koeln.de/1274/). The original model was focused on motorway traffic. The current implementation contains significant extensions to support the simulation of heterogeneous urban traffic as well.

Longitudinal Model
------------------

Vehicles are placed in traffic queues with a maximum length specified by option . To accomplish this each edge is split into 1 or more queues of equal length. Generally a queue represents all lanes of an edge but at intersections with dedicated turning lanes, multiple queues are used. Vehicles generally leave the queues in the order in which they entered it. The core idea of the model is to compute the time at which a vehicle exits the queue according to the following criteria:

1.  the traffic state in the current and subsequent queue.
2.  the minimum travel time based on vehicle speed, and speed limit
3.  the state of the intersection for the last queue of an edge according to the configuration of the [\#Junction_Model](/#Junction_Model "wikilink")

The first point is accomplished by classifying each queue as either *jammed* or *free* according to a traffic density threshold (configured with option ). The minimum headway between vehicles is then computed differently for each of the four distinct possible cases. The behavior for each case is configured using the options

-   **meso-tauff**
-   **meso-taufj**
-   **meso-taujf**
-   **meso-taujj**

Backward-moving jams are possible due to the headway effects when meso-tauff is lower than meso-taujf.

### meso-jam-threshold

For each queue (also called segment in the GUI) an occupancy threshold value determines whether that queue is *jammed* or *free*. The following nmerical values are supported for option :

-   value = -1: Threshold is computed so that vehicles driving at the speed limit do not jam. This is the default behavior which is recommend to for networks with varying speed limits since the free-flow occupancy depends on speed.
-   value &lt; 0: Threshold is computed as above but the free-flow occupancy is computed for (speedLimit \* -value). As this value approaches 0 (from below) jamming is reduced. Values below -1 cause increased jamming
-   value &gt; 0: The value is used directly as the threshold fraction for all queues (i.e. 0.4 means that above 40% occupancy the queue is jammed)
-   value = 1: Jamming is disabled

Lateral Model
-------------

Lateral movement is not modelled explicitly. Vehicles may overtake each other (swap their position) if the option is enabled. This is a randomized process depending on vehicle speeds and density.

Junction Model
--------------

There are 3 basic options for modelling junction control

1.  (the default): No junction control takes place. This should only be used for motorway scenarios.

2.
    junctions are modelled as in the simplified SUMO model ()).

3.
    No junction control takes place as long as the target queue is in the unjammed state (*free*). When trying to enter a jammed queue, junction control as in case 2 is used.

Additional options can be combined with any of the above options:

-
    a time penalty is applied according to the average delay time (based on red phase duration) and the minimum headway time is increased to model the maximum capacity (according the the proportion of green time to cycle time). This takes precedence over any of the above settings for tls controlled intersections.

-
    a fixed time penalty is applied when passing an unprioritzed link (this is disabled when --meso-junction-control.limited is set and junction control is active for that link)

Outputs
-------

Many of the output options of SUMO are supported but the resulting files differ somewhat:

-   No lane specific output is possible.
    -   [<laneData>-output](/Simulation/Output/Lane-_or_Edge-based_Traffic_Measures#Lane-Based_Network_States "wikilink") will be treated like -output.
    -   [netstate-dump](/Simulation/Output/RawDump "wikilink") will report vehicles as child elements of instead of .
-   Induction loops write attributes that are similar to meanData output

The following outputs are not supported:

-   [Lane area detectors (E2)](/Simulation/Output/Lanearea_Detectors_(E2) "wikilink")
-   [Multi-Entry-Exit detectors (E3)](/Simulation/Output/Multi-Entry_Multi-Exit_Detectors_(E3) "wikilink")

Limitations compared to SUMO
----------------------------

The following SUMO features are not supported:

-   TraCI (planned for the future)
-   Public transport
-   Electric model
-   Wireless model
-   Opposite-direction driving
-   Sublane-model

MESO-GUI
========

The mesoscopic simulation can be observed with [SUMO-GUI](/SUMO-GUI "wikilink") when running with option . The difference between micro- and meso-simulation is not visible from isolated vehicles. Once there are multiple vehicles waiting in a queue it becomes more apparent due to differences in spacing between the vehicles. And from the fact that vehicles appear to *jump* in 100m increments (which is the default segment length). When right-clicking on vehicles or edges and selecting 'Show parameters' the set of values is different between the microscopic and mesoscopic model. For larger simulations the speed difference will also be noticable. Due to being based on edges rather than lanes, some of the visualization options are different when running the mesoscopic model as well.

[Category:ApplicationDescription](/Category:ApplicationDescription "wikilink")